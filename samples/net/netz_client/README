netz client
+++++++++++

This sample code shows how to write network applications with netz


Prerequisites
=============

- Galileo Gen 2 Development Board
- USB to UART TTL (CH340, FTDI or equivalent)
- PC with Linux.
- 'screen' and 'nc' (ncat) command line tools
- LAN for testing purposes


Procedure
=========

a) Read [1], [2] and src/main.c.

b) Change the host, netmask and remote addresses in src/main.c
   according to the LAN configuration.

c) From a terminal window, type:

    make pristine && make BOARD=galileo

d) Copy the binary (outdir/zephyr.strip) to the Galileo's boot
   device. Insert the boot device.

e) Plug the USB side of the USB-UART cable to the PC.
   Connect the USB-UART cable to the Galileo.
   Connect the Galileo to the LAN.

f) Open a terminal window, type:

    screen /dev/ttyUSB0 115200

g) Open another terminal window, type:

    nc -l -p 5555

h) Power-up the board

i) 'screen' will show:

    WARNING: no console will be available to OS
    error: no suitable video mode found.
    -------------------------------
    -------------------------------
    -------------------------------

j) 'nc' will print:

    Hello World!
    Hello World!
    Hello World!

k) Type some random text in 'nc' and press enter.
   'screen' will show the text's length and its ASCII codes.

   For example, if you type 'Hello Zephyr!' and press enter, the
   following text will appear in the 'screen' window:

   -------------------------------
   Received: [14] 0x48 0x65 0x6c 0x6c 0x6f 0x20 0x5a 0x65 0x70 0x68 0x79 0x72 0x21 0x0a
   -------------------------------


UDP or TCP
==========

TCP is activated by default. If UDP is desired, the following
line must be commented in the prj_galileo.conf file:

#CONFIG_NETWORKING_WITH_TCP=y

Uncomment to switch back to TCP.


Troubleshooting
===============

- If 'nc' does not receive the 'Hello World!' messages, use a network
  traffic analyzer, like Wireshark.

- Reset the board

References
==========

[1] https://www.zephyrproject.org/doc/getting_started/getting_started.html
[2] https://wiki.zephyrproject.org/view/Galileo_Gen1_Gen2
