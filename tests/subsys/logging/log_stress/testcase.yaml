common:
  filter: CONFIG_QEMU_TARGET and not CONFIG_SMP
  tags: log_api logging
  integration_platforms:
    - qemu_x86
tests:
  logging.log_stress_light_v1:
    extra_configs:
      - CONFIG_LOG1=y
      - CONFIG_LOG_MODE_DEFERRED=y
      - CONFIG_LOG_MODE_OVERFLOW=y
      - CONFIG_LOG_STRDUP_BUF_COUNT=1
      - CONFIG_LOG_STRDUP_MAX_STRING=8
  logging.log_stress_light_v1_no_overflow:
    extra_configs:
      - CONFIG_LOG1=y
      - CONFIG_LOG_MODE_DEFERRED=y
      - CONFIG_LOG_MODE_OVERFLOW=n
      - CONFIG_LOG_STRDUP_BUF_COUNT=1
      - CONFIG_LOG_STRDUP_MAX_STRING=8
  logging.log_stress_light_v2:
    extra_configs:
      - CONFIG_LOG_MODE_DEFERRED=y
      - CONFIG_LOG_MODE_OVERFLOW=y
  logging.log_stress_light_v2_no_overflow:
    extra_configs:
      - CONFIG_LOG_MODE_DEFERRED=y
      - CONFIG_LOG_MODE_OVERFLOW=n
  logging.log_stress_v1:
    extra_configs:
      - CONFIG_LOG1=y
      - CONFIG_LOG_MODE_DEFERRED=y
      - CONFIG_LOG_STRDUP_BUF_COUNT=1
      - CONFIG_LOG_STRDUP_MAX_STRING=8
      - CONFIG_LOG_MODE_OVERFLOW=y
      - CONFIG_SYS_CLOCK_TICKS_PER_SEC=100000
    platform_allow: qemu_x86 qemu_riscv32 qemu_cortex_m3 qemu_cortex_a9
      qemu_x86_64
  logging.log_stress_v1_no_overflow:
    extra_configs:
      - CONFIG_LOG1=y
      - CONFIG_LOG_MODE_DEFERRED=y
      - CONFIG_LOG_STRDUP_BUF_COUNT=1
      - CONFIG_LOG_STRDUP_MAX_STRING=8
      - CONFIG_LOG_MODE_OVERFLOW=n
      - CONFIG_SYS_CLOCK_TICKS_PER_SEC=100000
    platform_allow: qemu_x86 qemu_riscv32 qemu_cortex_m3 qemu_cortex_a9
      qemu_x86_64
  logging.log_stress_v2:
    extra_configs:
      - CONFIG_LOG_MODE_DEFERRED=y
      - CONFIG_LOG_MODE_OVERFLOW=y
      - CONFIG_SYS_CLOCK_TICKS_PER_SEC=100000
    platform_allow: qemu_x86 qemu_riscv32 qemu_cortex_m3 qemu_cortex_a9
      qemu_x86_64
  logging.log_stress_v2_no_overflow:
    extra_configs:
      - CONFIG_LOG_MODE_DEFERRED=y
      - CONFIG_LOG_MODE_OVERFLOW=n
      - CONFIG_SYS_CLOCK_TICKS_PER_SEC=100000
    platform_allow: qemu_x86 qemu_riscv32 qemu_cortex_m3 qemu_cortex_a9
      qemu_x86_64
